<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap"
          rel="stylesheet">

    <title>Book Worm</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-sixteen.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <style>
        .Test {
            padding-top: 13px;
        }

        .col-md-4 {
            height: 430px;
        }
    </style>

</head>

<div id="preloader">
    <div class="jumper">
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>
<!-- ***** Preloader End ***** -->

<!-- Header -->
<header class="">
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="index.html"><h2>Book <em>Worm</em></h2></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                    aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active Test">
                        <input id="search" type="text"/>
                        <input type="button" id="search_btn" value="Search" onclick="searchProduct()">
                    </li>

                    <li class="nav-item" id="dropdown">

                        <div class="dropdown" id="dropdown1">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Người mua
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="Cart.html">Giỏ hàng của tôi</a>
                                <a class="dropdown-item" href="#">Hồ sơ của tôi</a>
                            </div>
                        </div>

                        <div class="dropdown" id="dropdown2">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Người bán
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="#">Sản phẩm của tôi</a>
                                <a class="dropdown-item" href="#">Doanh thu của tôi</a>
                                <a class="dropdown-item" href="createProduct.html">Tạo sản phẩm mới</a>
                            </div>
                        </div>
                    </li>

                    <li class="nav-item" id="login">
                        <a class="nav-link" href="login.html">Đăng nhập</a>
                    </li>
                    <li class="nav-item" id="register">
                        <a class="nav-link" href="register.html">Đăng ký</a>
                    </li>
                    <li class="nav-item" id="name-user">
                        <p style='color: white'>Xin chào <span style="color: white" id="name"></span></p>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<script>

    if (window.sessionStorage.getItem('TOKEN_KEY') != null && window.sessionStorage.getItem('ROLE_KEY') == "ROLE_USER") {

        let user = window.sessionStorage.getItem('NAME_KEY')
        document.getElementById('name').innerHTML = user;
        let content = ` <li class="nav-item" id="login">
                            <a class="nav-link" href="login.html">Đăng xuất</a>
                    </li>`
        document.getElementById('login').innerHTML = content
        document.getElementById('dropdown2').innerHTML=''
    }
    else if (window.sessionStorage.getItem('TOKEN_KEY') != null && window.sessionStorage.getItem('ROLE_KEY') == "ROLE_SELLER") {
        let user = window.sessionStorage.getItem('NAME_KEY')
        document.getElementById('name').innerHTML = user;
        let content = ` <li class="nav-item" id="login">
                            <a class="nav-link" href="login.html">Đăng xuất</a>
                    </li>`
        document.getElementById('login').innerHTML = content

        document.getElementById('dropdown1').innerHTML=''
    }
    else if (window.sessionStorage.getItem('TOKEN_KEY') == null) {
        document.getElementById('dropdown').innerHTML =''

    }

</script>
<!-- Page Content -->
<!-- Banner Starts Here -->
<div class="banner header-text">
    <div class="owl-banner owl-carousel">
        <div class="banner-item-01">
            <div class="text-content">
                <h4>Duy trì văn hóa đọc</h4>
                <h2>Đúng rồi đấy bạn ơi, đọc nhiều vào!</h2>
            </div>
        </div>
        <div class="banner-item-02">
            <div class="text-content">
                <h4>Flash Deals</h4>
                <h2>Giảm giá 1% tất cả các sản phẩm </h2>
            </div>
        </div>
        <div class="banner-item-03">
            <div class="text-content">
                <h4>Viết gì bây giờ</h4>
                <h2>Không ngờ các ông đọc đến đây luôn á</h2>
            </div>
        </div>
    </div>
</div>
<!-- Banner Ends Here -->

<div class="latest-products">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-heading">
                    <h2>Latest Products</h2>
                    <a href="Home.html">view all products <i class="fa fa-angle-right"></i></a>
                </div>
            </div>
            <div id="product"></div>
            <div id="Test1" class="col-md-4">

            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>
            <div class="col-md-4">
            </div>

        </div>
    </div>
</div>

<div class="best-features">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-heading">
                    <h2>About Sixteen Clothing</h2>
                </div>
            </div>
            <div class="col-md-6">
                <div class="left-content">
                    <h4>Looking for the best products?</h4>
                    <p><a rel="nofollow" href="https://templatemo.com/tm-546-sixteen-clothing" target="_parent">This
                        template</a> is free to use for your business websites. However, you have no permission to
                        redistribute the downloadable ZIP file on any template collection website. <a rel="nofollow"
                                                                                                      href="https://templatemo.com/contact">Contact
                            us</a> for more info.</p>
                    <ul class="featured-list">
                        <li><a href="#">Lorem ipsum dolor sit amet</a></li>
                        <li><a href="#">Consectetur an adipisicing elit</a></li>
                        <li><a href="#">It aquecorporis nulla aspernatur</a></li>
                        <li><a href="#">Corporis, omnis doloremque</a></li>
                        <li><a href="#">Non cum id reprehenderit</a></li>
                    </ul>
                    <a href="about.html" class="filled-button">Read More</a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="right-image">
                    <img src="assets/images/feature-image.jpg" alt="">
                </div>
            </div>
        </div>
    </div>
</div>


<div class="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="inner-content">
                    <div class="row">
                        <div class="col-md-8">
                            <h4>Creative &amp; Unique <em>Sixteen</em> Products</h4>
                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque corporis amet elite
                                author nulla.</p>
                        </div>
                        <div class="col-md-4">
                            <a href="#" class="filled-button">Purchase Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="inner-content">
                    <p>Copyright &copy; 2020 Sixteen Clothing Co., Ltd.

                        - Design: <a rel="nofollow noopener" href="https://templatemo.com"
                                     target="_blank">TemplateMo</a></p>
                </div>
            </div>
        </div>
    </div>


</footer>
<div id="Test"> Testtttttttttttttttttttt</div>


<!-- Bootstrap core JavaScript -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>


<!-- Additional Scripts -->
<script src="assets/js/custom.js"></script>
<script src="assets/js/owl.js"></script>
<script src="assets/js/slick.js"></script>
<script src="assets/js/isotope.js"></script>
<script src="assets/js/accordions.js"></script>


<script language="text/Javascript">
    cleared[0] = cleared[1] = cleared[2] = 0; //set a cleared flag for each field
    function clearField(t) {                   //declaring the array outside of the
        if (!cleared[t.id]) {                      // function makes it static and global
            cleared[t.id] = 1;  // you could use true and false, but that's more typing
            t.value = '';         // with more chance of typos
            t.style.color = '#fff';
        }
    }
</script>

<script>
    $(document).ready(function () {
        let Test1 = window.localStorage.getItem('listProduct');
        for (let i = 0; i < Test1.length; i++) {
            console.log(Test1[i])
        }
        let Test = window.sessionStorage.getItem('ROLE_KEY')
        let a = document.getElementById('Test')
        if (Test == 'ROLE_USER') {
            a.innerHTML = '';

        }

        $.ajax({

            type: "GET",
            url: 'http://localhost:8080/rest/showProduct',
            success: function (data) {
                let content = ''
                for (let i = 0; i < data.length; i++) {
                    let a = document.getElementsByClassName('col-md-4')[i]
                    a.innerHTML =
                        `
                     <div class="product-item">

                 <a href="#"><img src="${data[i].image}" style="width:350px;height: 230px" alt=""></a>
                    <div class="down-content">
                        <a href="productDetail.html" onclick="productDetail(${data[i].id})"><h4>${data[i].name}</h4></a>
                        <h6>${data[i].quantity}</h6>
                        <p>${data[i].description}</p>
                        <ul class="stars">
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                        </ul>
                        <span>Reviews (24)</span>
                    </div>
                    </div>
                    </div>


                  `
                }
            }


        })


    })

    function searchProduct(e) {
        document.getElementsByClassName('product-item')[0].innerHTML = ''
        document.getElementsByClassName('product-item')[1].innerHTML = ''
        document.getElementsByClassName('product-item')[2].innerHTML = ''
        // document.getElementsByClassName('product-item')[3].innerHTML =''
        // document.getElementsByClassName('product-item')[4].innerHTML =''
        // document.getElementsByClassName('product-item')[5].innerHTML =''
        // document.getElementsByClassName('product-item')[6].innerHTML =''
        // document.getElementsByClassName('product-item')[7].innerHTML =''
        // document.getElementsByClassName('product-item')[8].innerHTML =''
        // document.getElementsByClassName('product-item')[9].innerHTML =''
        // document.getElementsByClassName('product-item')[10].innerHTML =''


        let search = $("#search").val()
        console.log(search)
        $.ajax({
            type: "GET",
            url: 'http://localhost:8080/rest/findAllByName?name=' + search,
            success: function (data) {
                console.log(data)
                let content = ''
                for (let i = 0; i < data.length; i++) {
                    content += `
                    <div class="product-item">

                         <a href="#"><img src="assets/images/product_01.jpg" alt=""></a>
                    <div class="down-content">
                        <a href="#"><h4>${data[i].name}</h4></a>
                        <h6>${data[i].quantity}</h6>
                        <p>${data[i].description}</p>
                        <ul class="stars">
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                            <li><i class="fa fa-star"></i></li>
                        </ul>
                        <span>Reviews (24)</span>
                    </div>
                    </div>
                    `


                }
                document.getElementById('product').innerHTML = content;

            }
        })
    }

    function productDetail(id) {
        window.sessionStorage.setItem("product_id", id)

    }
</script>


</body>


<body>
</body>
</html>